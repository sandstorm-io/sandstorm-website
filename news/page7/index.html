<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Sandstorm Blog</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Sandstorm Blog">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://sandstorm.io/images/sandcat.png">
    <meta property="og:url" content="https://sandstorm.io/news/page7/">
    <meta property="og:description"
        content="Take control of your web by running your own personal cloud server with Sandstorm.">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="alternate" type="application/rss+xml" title="Sandstorm.io Blog" href="/feed.xml">
  </head>



  <body id="blog">
    <nav>
      <a href="/">Sandstorm.io</a>
      <a href="/get">Get Sandstorm</a>
      <a href="/features">Features</a>
      <a href="/how-it-works">How it Works</a>
      <a href="/news/">Blog</a>
      <a href="https://docs.sandstorm.io">Docs</a>
      <a href="/community">Community</a>
      <a href="/about">About</a>
      <!-- TODO: search -->
    </nav>

    <header>
  <div class="sand">
    <h1>Sandstorm Blog</h1>
  </div>
</header>

<div class="post-list">

<div class="sidebar">
  <ul class="socialmedia">
    <li><a class="twitter" href="https://twitter.com/SandstormIO">Twitter</a>
    <li><a class="facebook" href="https://www.facebook.com/sandstorm.io" target="blank">Facebook</a>
    <li><a class="google" href="https://plus.google.com/+SandstormIo" target="_blank">Google</a>
    <li><a class="github" href="https://github.com/sandstorm-io/sandstorm" target="_blank">Github</a>
  </ul>

  <div class="more">
    <form id="signup" action="https://sandstorm.us7.list-manage.com/subscribe/post?u=1a036c5ea0fc3c215793748ed&amp;id=5d9399a0af" method="post">
      Join our mailing list for updates<br>
      <input type="email" name="EMAIL" placeholder="E-mail" required><input type="submit" value="Submit">
    </form>
    <a href="/get">
      Sandstorm is an open source operating system for personal and private clouds.
      <span class="signup" href="https://oasis.sandstorm.io">Sign up for free</span>
      <span class="selfhost" href="/install">or host your own</span>
    </a>
    
    <h3>Recommended Posts</h3>
    <ul>
      <li><a href="/news/2014-07-21-open-source-web-apps-require-federated-hosting">Open Source Web Apps Aren't Viable; Let's Fix That</a></li>
      <li><a href="/news/2016-02-29-security-track-record">Sandstorm's security track record, and what it means for self-hosting</a></li>
      <li><a href="/news/2016-01-22-8-new-open-source-apps.html">8 New open source self-hostable apps</a></li>
      <li><a href="/news/2016-04-06-sandstorm-for-work">Sandstorm for Work Beta: LDAP, SAML, organization management</a></li>
      <li><a href="/news/2016-02-05-app-author-publicity-oasis">Free publicity for your indie web app, and free Oasis service for you</a></li>
      <li><a href="/news/2015-10-01-free-ssl-certificates.html">Free, automated SSL certificates for Sandstorm self-hosters</a></li>
      <li><a href="/news/2014-08-19-why-not-run-docker-apps.html">Why doesn't Sandstorm just run Docker apps?</a></li>
      <li><a href="/news/2015-05-05-delegation-is-the-cornerstone-of-civilization.html">Understand the Sandstorm sharing model</a></li>
    </ul>
    
    <h3>Further Reading</h3>
      <ul>
        <li><a href="/how-it-works">How Sandstorm Works</a></li>
        <li><a href="http://docs.sandstorm.io">Sandstorm Documentation</a></li>
        <li><a href="/install">How to install Sandstorm</a></li>
      </ul>
  </div>
</div>



  <nav class="pagination top">
    
      
        <a class="newer" href="/news/page6/" title="Previous Page">&laquo; Newer posts</a>
      
    

    
      <a class="older" href="/news/page8/" title="Next Page">Older posts &raquo;</a>
    
    <br clear="both">
  </nav>




<section>
  <h2><a href="/news/2015-06-17-events">Upcoming events in San Francisco & Portland</a></h2>
  <p class="post-details">By <a href="https://github.com/paulproteus">Asheesh Laroia</a>
    
    - <a href="/news/2015-06-17-events">17 Jun 2015</a>
  
  
  
  
  <p>David, Jade, and Asheesh will be speaking at events in Portland, OR, and
San Francisco.</p>

<h3 id="san-francisco-meetup-june-18">San Francisco meetup, June 18</h3>

<p>At our
<a href="http://www.meetup.com/Sandstorm-SF-Bay-Area/events/223113702/">second SF meetup</a>,
we’ll have a brief intro by core dev David Renshaw about the new sharing features of Sandstorm.
We’re lucky to have
David in town, as he’s normally in Pittsburgh.</p>

<p>Co-founder Jade Wang will showcase how to package a Meteor app for Sandstorm, which
is a preview of her jQuerySF talk.</p>

<p>That’ll be at ThoughtWorks (thanks to them for hosting!) in San Francisco, 6 PM
Thu 6/18. <a href="http://www.meetup.com/Sandstorm-SF-Bay-Area/events/223113702/">RSVP here!</a></p>

<h3 id="jquerysf-june-22-23">jQuerySF, June 22-23</h3>

<p>At the upcoming <a href="http://jquerysf.com/">jQuerySF</a> conference, Jade will give
a talk entitled “Sandstorm.io: one-click, deploy anywhere.” It’s
at 11:10am on Monday, June 22.</p>

<p>If you haven’t bought a ticket yet, use our Friends &amp; Family
of Sandstorm discount code to register for just $20, saving a
a huge amount off the ticket price. Register at
<a href="https://ti.to/jquerysf/2015">the registration page</a> and use the code
<code>sandstorm-ftw</code>!</p>

<h3 id="open-source-bridge-portland-or-week-of-june-22">Open Source Bridge, Portland, OR, week of June 22</h3>

<p>I’m giving two talks at Open Source Bridge, and would love to see
Sandstorm-minded people there.</p>

<ul>
  <li><a href="http://opensourcebridge.org/sessions/1528">Economics of Volunteer Labor: Three stories from Debian</a>, Tue Jun 23, 10am</li>
  <li><a href="http://opensourcebridge.org/sessions/1527">Five years, 1000 students: The story of Open Source Comes to Campus</a>, Thu Jun 25, 10am</li>
</ul>

<p>I hope to see you in SF or Portland! Feel free
to drop me a line; I’m asheesh at sandstorm.io.</p>

</section>

<section>
  <h2><a href="/news/2015-06-10-network-access-permission-android-vs-sandstorm">Should apps get network access by default? Android vs. Sandstorm</a></h2>
  <p class="post-details">By <a href="https://github.com/kentonv">Kenton Varda</a>
    
    - <a href="/news/2015-06-10-network-access-permission-android-vs-sandstorm">10 Jun 2015</a>
  
  <p>Google’s Android team has <a href="http://arstechnica.com/gadgets/2015/05/android-m-dev-preview-launches-permission-controls-fingerprint-api-and-more/">announced</a> that in Android M, users will be prompted to grant permissions to apps at the time the permission is used, rather than an the time the app is installed. That’s great! This will make it much easier for users to understand how permissions are being used and allows them to perform a “line-item veto” without uninstalling the whole app. This puts much more power in the hands of users, as it should be.</p>

<p>Unfortunately, permission to access the network is now going to be granted totally automatically. Is this the right thing to do? <a href="http://www.androidpolice.com/2015/06/06/android-m-will-never-ask-users-for-permission-to-use-the-internet-and-thats-probably-okay/">Android Police</a> argues that it’s “probably okay”. But some of the arguments feel unconvincing.</p>

<p>At Sandstorm, we have some strong opinions on this. Sandstorm, like Android, seeks to run apps in an environment that enforces a strong permissions model (but Sandstorm targets servers rather than phones). Part of Sandstorm’s security promise to the user is that apps are “confined”: they have <em>no communication with the outside world</em> unless and until the user grants them permissions. This promise is probably the most controversial part of our <a href="https://github.com/sandstorm-io/sandstorm/wiki/Security-Practices-Overview">security model</a>, but we continue to believe it is the right thing to do. <em>(Note: Sandstorm’s confinement guarantee is not fully enforced at this time, as we have intentionally poked holes in the sandbox during alpha testing in order to work around missing features. But, these will be closed over the next few months.)</em></p>

<p>So, let’s take a look at the arguments the Android team is making for abandoning confinement.</p>

<h3 id="bogus-argument-1-controlling-internet-access-is-redundant-on-top-of-other-permissions">Bogus Argument 1: Controlling internet access is redundant on top of other permissions.</h3>

<p>The Android team apparently argues that being able to disable an app’s network access is not very important as long as all of your sensitive data (say, contacts) is guarded behind other permissions checks. If you don’t want the app to upload your contacts to the developer’s server, they say, don’t give it permission to see your contacts.</p>

<p>This argument, to be frank, makes no sense. What if I <em>want</em> the app to organize my contacts (e.g. because it is a contact manager app), but still do <em>not</em> want it to upload my contacts to the developer’s server? The Android model seems to say that I must treat the app and the developer as one entity, which is unfortunate, but perhaps consistent with the SaaS model that Google is used to. We’d like to do better.</p>

<p>In fact, proper confinement allows us to do something rather magical which the Android team seems to be overlooking: If I can confine an app, then I can safely load sensitive data into the app even if the app is malicious! This in turn makes it much easier to feel comfortable using apps from random developers I don’t know. It also means I don’t need to worry too much about bugs in the app.</p>

<p>Moreover, even if I don’t plan to give the app any other permissions, I may still worry about whether the app might consume my resources in order to participate in a DDoS attack, anonymizing proxy service, or bitcoin mining rig behind my back.</p>

<h3 id="bogus-argument-2-the-app-can-already-leak-data-by-opening-a-web-page-using-an-intent">Bogus Argument 2: The app can already leak data by opening a web page using an intent.</h3>

<p>The Android team argues that an app can always use Android Intents to ask Chrome to open the developer’s web site, encoding my sensitive data as a URL parameter, thereby leaking my data. Because this is possible, they say, trying to provide confinement is pointless.</p>

<p>First, two simple responses:</p>

<ol>
  <li>I will likely notice if an app opens Chrome with some weird URL, and be suspicious. That’s much better than it happening in secret.</li>
  <li>The app probably can’t participate in a botnet through browser intents.</li>
</ol>

<p>More importantly, though, if intents allow trivial data leakage, perhaps that is a problem in intents. Perhaps the user needs to be asked whether or not they really want to open that link.</p>

<p>But would that be annoying? I actually don’t think it would be too bad. People who have installed multiple browsers on Android today are, in fact, already protected: Android prompts the user to choose which browser to use. The user can, at this point, press “back” to avoid the interaction altogether. Perhaps Android Intents should in fact prompt the user to choose an app even when there is only one choice: in fact, there is always a second choice, which is “don’t open this at all”. Meanwhile, this interstitial lets the user know that they are switching apps, which may help them be less confused.</p>

<h3 id="legitimate-argument-ux-is-hard">Legitimate Argument: UX is hard.</h3>

<p>I think that the real reason the Android team doesn’t want to implement internet access as a permission is because getting the UX right is legitimately hard. Pushing an “allow/deny” prompt in the user’s face on the first packet sent is genuinely annoying and not very helpful to the user, and the Android people aren’t feeling particularly excited about trying to develop something better, perhaps because they think that users don’t care (a popular but <a href="http://boingboing.net/2015/06/08/internet-users-care-about-thei.html">incorrect</a> assumption).</p>

<p>I believe there is a better way: Instead of prompting the user to allow or deny internet access as a whole, prompt them for individual <em>capabilities</em> that the app needs, and then merge that prompt with a choice that they were <em>already making</em>. It turns out that most security decisions, if you look carefully enough, are in fact paired with some functionality choice. If you merge the choices together, then one of two things happens:</p>

<ol>
  <li>The functionality choice is a choice the user already had to make, and by merging the security choice, you’ve avoided forcing the user to answer a separate security question.</li>
  <li>The functionality choice is a choice the user <em>wasn’t</em> already being offered, but by offering them a choice, you are giving them a real, useful ability that they didn’t have.</li>
</ol>

<p>Let’s illustrate with some examples:</p>

<ul>
  <li><strong>Contacts:</strong> Many Android apps want to send “viral” invites to your friends. To accomplish this, the app first asks for permission to your contact list. A <em>legitimate</em> app uses that permission to display a contact picker back to you, from which you can choose the people whom you want to invite, and the app will then only <s>spam</s> invite those people. An <em>illegitimate</em> app will use the permission to spam or harvest your contacts without asking you first. (Sometimes these illegitimate apps are <a href="http://blog.path.com/post/17274932484/we-are-sorry">big names</a>!) So what are the two choices here?
    <ul>
      <li><strong>Security choice:</strong> Do you want give the app permission to use your contacts?</li>
      <li><strong>Functionality choice:</strong> <em>Which</em> contacts do you want to invite?</li>
    </ul>

    <p>Android actually provides a contact picker UI which can be invoked via an intent. When used, instead of requesting permission to your <em>whole</em> contact list just to show you a picker, the app asks Android to display the picker, and receives permissions <em>only</em> to the contacts you choose. To the user, the UX is exactly the same (they choose whom to invite), but there is <em>no</em> security prompt, and yet illegitimate use is blocked. Hooray!</p>

    <p>Sadly, many apps choose not to use this built-in picker, perhaps because developers think they can draw a prettier picker themselves and that the user doesn’t care about granting the extra permission. In my opinion, the Android-provided picker should be improved and the contacts permission discouraged – or disabled – in order to push developers away from drawing their own pickers.</p>
  </li>
  <li><strong>Email app:</strong> An app which wants to access your email (say, though IMAP) needs to know your server address and credentials, and then needs internet connectivity to talk to it. But can we do better?
    <ul>
      <li><strong>Security choice:</strong> Do you want to give the app permission to talk to your server?</li>
      <li><strong>Functionality choice:</strong> What server should the app talk to, and what is the password?</li>
    </ul>

    <p>What if the platform implemented a “server picker” UI, so that the mail app merely says “I need a server address, username, and password”, the platform displays a form to the user, and then the requesting app not only receives information back, but also receives permission to access <em>specifically that server</em>? The user is, again, only doing something they had to do anyway: choose their server. No security prompt was ever presented, and yet the security ends up correct. (Plus, if you take it a step further by having the app proxy requests through the platform, then the platform could in fact hold on to the user’s mail server password, preventing the app from accidentally leaking it.)</p>
  </li>
  <li><strong>Locked-in Cloud API:</strong> Say a scheduling app wants to talk to the Google Calendar cloud API. The app only integrates with Google Calendar and no other service. Here we see an interesting side-effect come into play:
    <ul>
      <li><strong>Security choice:</strong> Do you want to give the app permission to access your Calendar account?</li>
      <li><strong>Functionality choice:</strong> Which account do you want the app to use? (If you have more than one.)</li>
      <li><strong>Freedom choice:</strong> Which <em>server</em> do you want the app to talk to?</li>
    </ul>

    <p>In this case, Android actually has an account management system and picker UI which handles the first two choices as one unit, exactly as I’d like. But I am <em>not</em> allowed to choose which server to use – I am locked into Google’s server. What if there is a third-party service – or open source server app – which I would like to use which has implemented a Google-calendar-compatible API? As long as the API is implemented correctly, I ought to be able to make apps use the alternate service, rather than be locked into Google.</p>

    <p>If the security choice is mandatory anyway, and it is done in a <em>fine-grained</em> way (i.e. the request is for a specific server, rather than arbitrary network access), then the freedom choice can naturally be provided at the same time, without the app even knowing about it.</p>
  </li>
</ul>

<h3 id="the-powerbox-ui">The Powerbox UI</h3>

<p>All of the examples above will be supported through Sandstorm’s “Powerbox” UI. In general, the Powerbox is an arbitrary picker which can be invoked by any app and extended by any app. Underlying the Powerbox is the <a href="https://capnproto.org/rpc.html">Cap’n Proto RPC protocol</a>, which naturally represents capabilities (as granted by the powerbox) as RPC object references, automatically taking care of permissions and message routing.</p>

<p>We have been laying the groundwork for the Powerbox for some time. The <a href="https://github.com/sandstorm-io/sandstorm/wiki/Security-Practices-Overview#capability-based-usable-security">infrastructure</a> is ready, and we are now working on giving it a UI. This will happen gradually over the next couple months.</p>

<p>Even without the Powerbox, Sandstorm is highly usable today. <a href="https://demo.sandstorm.io">Try the demo</a>, <a href="https://sandstorm.io/install/">install your own (it’s open source)</a>, or <a href="https://sandstorm.io/preorder.html">preorder hosting</a>.</p>

</section>

<section>
  <h2><a href="/news/2015-05-18-sandcats">Sandcats.io: free dynamic DNS for Sandstorm users</a></h2>
  <p class="post-details">By <a href="https://github.com/paulproteus">Asheesh Laroia</a>
    
    - <a href="/news/2015-05-18-sandcats">18 May 2015</a>
  
  <p>Sandstorm is open source server software that makes it easy to install web apps
like <a href="https://ethercalc.org/">Ethercalc</a> or
<a href="http://sdelements.github.io/lets-chat/">Let’s Chat</a>. But that’s not much use
if your server doesn’t have
a name, and setting up DNS correctly for Sandstorm has until now been a complicated,
fiddly process.</p>

<p>That’s why today I’m announcing <em>sandcats.io</em>, a free dynamic DNS service
for Sandstorm users. It now takes 120 seconds to go from an empty
Linux virtual machine to a working personal server, DNS and all.</p>

<p>The Sandstorm install script asks you what subdomain you want; if you type <em>alice</em>, then
your server is online at <em>alice.sandcats.io</em>.</p>

<p>It’s as simple as that. Check out this 30 second ASCII screencast.</p>

<p><a href="https://asciinema.org/a/bw9mgfk8m55rfa3ntrfvhvjat?autoplay=1">
<img src="https://asciinema.org/a/bw9mgfk8m55rfa3ntrfvhvjat.png" width="600" />
</a></p>

<h3 id="solving-dns-for-sandstorm-users">Solving DNS for Sandstorm users</h3>

<p>I say it <em>solves</em> DNS for Sandstorm users because the <em>sandcats.io</em> service
handles all the following complications:</p>

<ul>
  <li>
    <p><strong>Domain provisioning.</strong> You type the name you want for your server while
running the install script.</p>
  </li>
  <li>
    <p><strong>Wildcard DNS.</strong> Sandstorm needs wildcard DNS because, with its security model,
each session of each app runs on a unique unguessable subdomain. This protects against
most cross-site request forgery attacks, for example. Sandcats.io provides wildcard
DNS; this also means that any time a user
runs a new app on your personal Sandstorm server, DNS is already configured.</p>
  </li>
  <li>
    <p><strong>Automatic updates.</strong> Every 60 seconds, your Sandstorm server sends a small
UDP message to the Sandcats.io service. If your IP address has changed, the
service replies with another short message. Upon receipt of that, your server
sends an authenticated message, and <em>sandcats.io</em> updates its records.
Our DNS records have a 60 second
TTL, so if your IP address changes, it will propagate out within two minutes,
and you never had to lift a finger.</p>
  </li>
  <li>
    <p><strong>Domain recovery.</strong> If you lose your authentication keys, you can recover
the domain by typing <code>help</code> into the Sandstorm installer.</p>
  </li>
</ul>

<p>I’d love to hear your feedback; I’m asheesh@sandstorm.io.</p>

<p>The code is open souce, and you can read more in the
<a href="https://github.com/sandstorm-io/sandstorm/wiki/Sandcats-dynamic-DNS">technical documentation</a>,
but what I really recommend you do is try it out.</p>

<h3 id="switch-to-your-own-domain-whenever-you-want">Switch to your own domain whenever you want</h3>

<p>The Sandcats service is optional. If you already have a domain of your own, you
can join the many other people actively running Sandstorm on their own
domain.</p>

<p>If you know you want to go it alone, the install script allows you to opt out
and configure DNS yourself.</p>

<p>Moreover, if you start out with a
<em>sandcats.io</em> sudomain, and you decide you want a little more personality to
your server, you can reconfigure it at any time. Look for your server’s
<code>sandstorm.conf</code> file.</p>

<h3 id="install-sandstorm-now-to-try-it-out">Install Sandstorm now to try it out</h3>

<p>Sandstorm exists to make it easy to run web apps like Etherpad, HackerSlides,
Let’s Chat, and others as easily as you install apps on your phone. If that’s
something you want
on a server for you or your organization, I hope you install Sandstorm right now.</p>

<p><strong><a href="https://sandstorm.io/install/">Install Sandstorm with our easy install instructions!</a></strong></p>


</section>

<section>
  <h2><a href="/news/2015-05-14-sf-meetup">First San Francisco Meetup</a></h2>
  <p class="post-details">By <a href="https://github.com/paulproteus">Asheesh Laroia</a>
    
    - <a href="/news/2015-05-14-sf-meetup">14 May 2015</a>
  
  <p>Last Thursday, May 7, I helped organize the first event of the new
<a href="http://www.meetup.com/Sandstorm-SF-Bay-Area/">Sandstorm SF Bay Area meetup group</a>.
The event was a Project Night, modeled after
the
<a href="http://www.meetup.com/bostonpython/events/221084961/">Boston Python Project Nights</a>
that Jessica McKellar, Ned Batchelder, and I helped start a few years ago.</p>

<blockquote>
  <p>Project nights are <strong>unstructured chances for Sandstorm developers &amp; users to work together</strong>, mentor each other, connect socially, teach, learn, <strong>or do whatever else</strong> it is Sandstorm users &amp; developers want to do together.</p>
</blockquote>

<p>I started with a brief introduction to Sandstorm, to ensure new people had
some context.</p>

<p>After that, we laptopped and chatted. Here are some highlights from
<a href="https://www.flickr.com/photos/paulproteus/sets/72157652481307461">photo album</a>.</p>

<p><img src="/news/images/sfmeetup-17431775982_e230fade0b_k_d.jpg" width="100%" /></p>

<p><img src="/news/images/sfmeetup-highres_437398276.jpeg" width="100%" /></p>

<p><img src="/news/images/sfmeetup-highres_437398044.jpeg" width="100%" /></p>

<p>Thanks to Jack Singleton and Thoughtworks for hosting the event, and to
Ti Zhao for the wide panoramic shot.</p>

<p>If you’re near the San Francisco Bay, get notified of the next event and
<a href="http://www.meetup.com/Sandstorm-SF-Bay-Area/">join the Meetup group!</a></p>

</section>

<section>
  <h2><a href="/news/2015-05-05-delegation-is-the-cornerstone-of-civilization">Delegation is the Cornerstone of Civilization: Sharing in Sandstorm.io</a></h2>
  <p class="post-details">By <a href="https://github.com/dwrensha">David Renshaw</a>
    
      and <a href="https://github.com/kentonv">Kenton Varda</a>
    
    - <a href="/news/2015-05-05-delegation-is-the-cornerstone-of-civilization">05 May 2015</a>
  
  <p>We sometimes describe Sandstorm as: “Like Google Docs, except open source, you can run it on your own server, and you can extend it with apps written by anyone.”</p>

<p>Sandstorm is all about collaboration – we have apps for real-time collaborative document editing, chat rooms, even collaborative music streaming. Collaboration, of course, requires access control. Sometimes you want some people to be able to edit a document while others can only read. Up until now, Sandstorm relied on each app to implement its own access control model, and many simply did not. For example, with Etherpad on Sandstorm before now, you could only share full write access.</p>

<p>Today, we’re introducing Sandstorm’s new built-in sharing model. With it, apps can define a set of “permissions” (like “read” and “write”) which make sense for the app, and then Sandstorm itself will present a user interface by which the user can grant these permissions to other users. Since Sandstorm is designed to support fine-grained app containers (where, for example, each Etherpad document runs as a completely separate instance of the app in its own container), Sandstorm can implement this access control model at the container level, freeing the app of most of the work. The app need not track users itself; Sandstorm will tell it (e.g. through HTTP headers) exactly which permissions the current user has, so all the app needs to do is implement those.</p>

<p>Moreover, Sandstorm implements a radical <em>capability-based</em> sharing model, which emphasizes the importance of <em>delegation</em>. Under our model, if you have access to a document, you can share that access with others, <em>without</em> requiring the document owner to intervene. This is important, because any obstacle to delegation is an obstacle to getting work done. Marc Stiegler said it best:</p>

<blockquote style="font-weight: normal">The truth of the matter is: delegation cannot be prevented. The further truth of the matter is: we do not appreciate how fortunate it is that delegation cannot be prevented.
Because in fact, <b>delegation is the cornerstone of civilization</b>. - Marc Stiegler</blockquote>

<div style="margin:1em auto"><iframe class="youtube" src="//www.youtube.com/embed/vrbmMPlCp3U?start=3970" frameborder="0" allowfullscreen="true"> </iframe></div>

<p>More on this in a bit, but first let’s look at how it works.</p>

<h3 id="how-it-works">How it works</h3>

<p>Consider the <a href="https://demo.sandstorm.io/appdemo/6va4cjamc21j0znf5h5rrgnv0rpyvh1vaxurkrgknefvj0x63ash">GitWeb app</a>.
With the new sharing features in place, after Alice creates a new repository
she can, for example, share read-only access with Bob and share read/write access with Carol.</p>

<p><img src="/news/images/better-sharing-model-1.png" style="width:80%;margin:0 auto;display:block" /></p>

<p>Then, in turn, both Bob and Carol can reshare the repo to other users. If they both share their full access to Dave, then Dave gets read/write access.</p>

<p><img src="/news/images/better-sharing-model-2.png" style="width:80%;margin:0 auto;display:block" /></p>

<p>If Alice now unshares with Carol, then Carol loses all access and Dave loses write access. Dave continues to hold the read-only access that he received from Bob.
Carol’s share to Dave continues to exist, but it no longer carries any permissions, as Carol herself no longer holds any permissions.</p>

<p><img src="/news/images/better-sharing-model-3.png" style="width:80%;margin:0 auto;display:block" /></p>

<p>Throughout this whole interaction, the app itself has no need to keep track of users! It only needs to know how to filter requests based on permissions.
Teaching GitWeb to do this was easy, requiring only a <a href="https://github.com/dwrensha/gitweb-sandstorm/commit/7f510ec82a935a9f94ebcf9651983d0bbadcf82a">few small changes</a>
in configuration files. The app remains dead simple. The only data that it stores is the Git repository that it hosts.
There is no in-app user database.</p>

<p>Apps have complete control over the meanings of permissions. While “can read” and “can write” permissions will be sufficient in many cases,
some apps, such as Groove Basin, might support a much wider range of permissions.
In our <a href="https://demo.sandstorm.io/appdemo/wfg1r0qra2ewyvns05r0rddqttt57qxurz3nz5z95rjnm63et7e0">updated Groove Basin package</a>, sharing carries such diverse permissions
as “can listen,” “can control the audio stream,” “can upload music,” and “can edit tags and delete music.”</p>

<h3 id="delegation-why-you-want-it">Delegation: Why you want it</h3>

<p>Traditional access control is accomplished using “access control lists” (ACLs), in which a document owner (Alice) maintains an ACL for the document specifying exactly who has access (Bob and Carol). In many systems, Bob and Carol cannot directly add a new person (Dave) to this ACL – they must ask Alice to do it. Usually, this is treated as a security “feature”.</p>

<p><strong>Preventing delegation is not a feature. It provides no security benefit, and it creates obstacles to legitimate work.</strong></p>

<p>For example, say Alice has asked Carol to update the document to add some data that Carol has collected, with a deadline of 6PM. Around 4PM, Carol realizes she won’t have time, so she asks her assistant, Dave, to do the work. Unfortunately, Dave doesn’t have access, and Alice is unavailable because she’s in a meeting. Now what?</p>

<p>Here’s what inevitably happens: Carol copies the whole document into a <em>new</em> document, and then shares that with Dave. Later, when Dave is done, Carol copies the contents of the new document <em>back</em> into the original, overwriting it.</p>

<p>Or, worse, Carol just gives Dave her password.</p>

<p>What just happened? <strong>Carol bypassed the access control that prevented delegation to Dave!</strong> In fact, she did so <em>trivially</em>; no “hacking” required. It is obvious, in fact, that <a href="https://www.youtube.com/watch?v=vrbmMPlCp3U#t=1h5m30s">there is <em>no</em> technology</a> which would prevent Carol from delegating access to Dave, except to cut off all communications between Carol and Dave, which would be silly. So, our security “feature” actually provided no security benefit.</p>

<p>With that said, what Carol did was annoying and error-prone. It took time, and the document could have been damaged, especially if someone else were editing at the same time and had their changes overwritten. It would have been much better if Dave could have simply had direct access to the document.</p>

<p>So, that’s what Sandstorm allows.</p>

<h3 id="policies-and-auditability">Policies and Auditability</h3>

<p>There is an objection to unrestricted delegation which has some merit: preventing delegation can help guard against accidental leaks. For example, I might share a sensitive document with a coworker for review, but I might not trust that my coworker really understands the sensitivity of the document. I trust my coworker not to violate my wishes, but my coworker might not understand that I don’t want them to reshare. I’d feel a lot more comfortable if I can simply prohibit resharing. Yes, they can always go out of their way to get around any barrier I put up, but hopefully it will be obvious to them that they shouldn’t.</p>

<p>This is a valid point, but solving it via the heavy-handed ACL model is overkill. As a user, what I really want is not a draconian security wall, but two things:</p>

<ul>
  <li>A way to inform people of my wishes with regards to resharing.</li>
  <li>A way to hold them accountable if they break my wishes.</li>
</ul>

<p>Sandstorm aims to provide both of these:</p>

<ul>
  <li>You’ll be able to express “policies” when sharing, such as “please don’t reshare.” When people attempt to anyway, they will be informed that this is against your wishes, and perhaps blocked (at the UI level) from doing so. This is not strictly a security feature, but simply risk management: it helps nudge people in the right direction.</li>
  <li>Sandstorm tracks not just a list but a full sharing <em>graph</em>. This means it is always possible to tell not just who has access but <em>how</em> they got access. We will be developing visualizations and auditing tools so that when you discover someone has received access that shouldn’t have, you can find out whom to blame. And as mentioned above, if you revoke that person’s access, then <em>everyone</em> they reshared to transitively loses access – unless you decide to restore those connections by sharing with those people directly.</li>
</ul>

<p>For enterprise users, we will further develop features that allow system administrators to set policies and audit access across an organization.</p>

<p>Many users may never need these features. That’s fine – the basic sharing interface works intuitively without requiring you to understand “sharing graphs” or “policies”. But for those who need it, especially in a business setting, these features will be invaluable.</p>

<h3 id="try-it-now">Try it now!</h3>

<p>Sharing is a new feature and we still have lots of work to do on it, but the initial version is already live.
If you want to try sharing but have not yet <a href="https://github.com/sandstorm-io/sandstorm#installing-the-easy-way">set up your own server</a>, you can <a href="https://demo.sandstorm.io">use the demo</a>.
We’ve already enabled nontrivial permissions on GitWeb, Groove Basin, and Etherpad, and more app updates will be coming.
Better yet, try <a href="https://github.com/sandstorm-io/sandstorm/wiki/Sandstorm-App-Developer-Handbook">writing an app</a> that takes avantage of the new features.
Enabling apps to easily support sharing is just one more way that Sandstorm makes <a href="/news/2014-07-21-open-source-web-apps-require-federated-hosting.html">open source web apps viable</a>.</p>

</section>


<nav class="pagination bottom">
  
    
      <a class="newer" href="/news/page6/" title="Previous Page">&laquo; Newer posts</a>
    
  

  
    <a class="older" href="/news/page8/" title="Next Page">Older posts &raquo;</a>
  
  <br clear="both">
</nav>

</div>


    <footer>
      <ul>
        <li>
          <h3><a href="/get">Get Sandstorm</a></h3>
          <ul>
            <li><a href="/get#managed-hosting">Hosting</a>
            <li><a href="/get#self-host">Download</a>
            <li><a href="/get#self-host">For Organizations</a>
          </ul>
        </li>
        <li>
          <h3><a href="/features">Features</a></h3>
          <ul>
            <li><a href="/features">Core</a>
            <li><a href="/features#security">Security</a>
            <li><a href="/business">Sandstorm for Work</a>
            <li><a href="/business#scale">Sandstorm for Enterprise</a>
            <li><a href="/developer">Development</a>
          </ul>
        </li>
        <li>
          <h3><a href="/how-it-works">How it Works</a></h3>
          <ul>
            <li><a href="/how-it-works#grains">Fine-grained object containers</a>
            <li><a href="/how-it-works#capabilities">Capability-based Security</a>
          </ul>
        </li>
        <li>
          <h3><a href="https://docs.sandstorm.io">Documentation</a></h3>
          <ul>
            <li><a href="https://docs.sandstorm.io/en/latest/using/">How to use Sandstorm</a>
            <li><a href="https://docs.sandstorm.io/en/latest/developing/">Developer Hub</a>
            <li><a href="https://docs.sandstorm.io/en/latest/administering/">Administering &amp; installing</a>
            <li><a href="https://docs.sandstorm.io/en/latest/using/security-practices/">Security</a>
          </ul>
        </li>
        <li>
          <h3><a href="/community">Community</a></h3>
          <ul>
            <li><a href="/news">Sandstorm Blog</a>
            <li><a href="/community#connect-with">Connect with us</a>
            <li><a href="/community#helpothers">Help Others</a>
            <li><a href="/community#helpproject">Help the Project</a>
          </ul>
        </li>
        <li>
          <h3><a href="/about">About</a></h3>
          <ul>
            <li><a href="/about">Sandstorm Story</a>
            <li><a href="/about#team">Team</a>
            <li><a href="/about#advisors">Advisors</a>
            <li><a href="mailto:contact@sandstorm.io">Contact</a>
          </ul>
        </li>
        <li>
          <h3><a href="https://oasis.sandstorm.io">Oasis Hosting</a></h3>
          <ul>
            <li class="sign-in-footer"><a href="https://oasis.sandstorm.io">Sign in</a>
          </ul>
        </li>
        <li>
          <h3>Connect</h3>
          <ul id="socialmedia-small">
						<li><a class="twitter" href="https://twitter.com/SandstormIO"></a>
						<li><a class="google" href="https://plus.google.com/+SandstormIo" target="_blank"></a>
						<li><a class="facebook" href="https://www.facebook.com/sandstorm.io" target="blank"></a>
						<li><a class="github" href="https://github.com/sandstorm-io/sandstorm" target="_blank"></a>
  			</ul>
        </li>
        <li>
          <h3>Join our mailing list!</h3>
            <div class="subscribe-small">
                                                        <form action="https://sandstorm.us7.list-manage.com/subscribe/post?u=1a036c5ea0fc3c215793748ed&amp;id=5d9399a0af" method="post">
                                                                <input type="email" name="EMAIL" placeholder="e-mail" required>
                                                                <input type="submit" value="Submit">
                                                                </form>
            </div>
          <ul>
            <li><a href=""></a>
          </ul>
        </li>
      </ul>
      <p>This page was hand-crafted using only the finest web technologies.
    </footer>

    <!-- Google Analytics -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-42127409-1', 'sandstorm.io');
      ga('send', 'pageview');
    </script>

    <!-- livereload, for development -->
    <script type="text/javascript">
      if (document.location.hostname === "localhost") {
        document.write('<script src="http://localhost:35729/livereload.js"></scr' + 'ipt>');
      }
    </script>
  </body>
</html>
