<!DOCTYPE html>

<html>
  <head>
    <title>Sandstorm</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1100px">
    <link rel="stylesheet" type="text/css" href="preorder-confirm.css">
  </head>

  <body>
    <nav>
      <a href="/">Home</a>
      <a href="https://demo.sandstorm.io">Demo</a>
      <a href="https://blog.sandstorm.io">News</a>
      <a href="https://github.com/sandstorm-io/sandstorm">GitHub</a>
      <a href="https://groups.google.com/group/sandstorm-dev">Dev Group</a>
    </nav>

    <header>
      <h1>Thank you for your subscription!</h1>
    </header>

    <section id="confirmation">
      <div class="unconfirmed">
        <p>Please check your email, <b class="populate-email"></b>, to
          confirm your email address.
        <p>If you don't get a confirmation email shortly, or if you mistyped your email address,
          please contact a human at <a href="mailto:support@sandstorm.io"><b>support@sandstorm.io</b></a>.
      </div>
      <div class="confirmed">
        <p>Your email address is confirmed. Thank you!
        <p><a id="sticker-link" href="https://docs.google.com/a/corp.sandstorm.io/forms/d/1EG9lbWwAQkLF4hszlNtdISUp4_wfFSuBxLpXTlFHO38/viewform">Have some <b>Sandcat stickers</b> Â»</a>
      </div>
    </section>

    <section id="order">
      <h2>Your Order Summary</h2>
      <table>
        <tr><td>Account</td><td class="populate-email"></td></tr>
        <tr><td>Date / Time</td><td class="populate-date"></td></tr>
        <tr><td>Transaction</td><td class="populate-txid"></td></tr>
        <tr><td>Plan</td><td class="populate-plan"></td></tr>
        <tr class="bottom-line"><td>Monthly Bill</td><td class="populate-price"></td></tr>
      </table>
      <p>Just a heads up: your credit card will not be charged until Sandstorm comes out of beta.
    </section>

    <section id="notes">
      <p>A confirmation of your subscription has also been sent to your email address,<br>
        <b class="populate-email"></b>, so you can always have it in your archive.

      <p>We'll also email you with further instructions on how to activate your account when
        the beta begins.
    </section>

    <section id="what-next">
      <div class="start-porting">
        <h3>Want to start porting an app?</h3>
        <a href="https://github.com/sandstorm-io/sandstorm/wiki/Porting-Guide">See our<br>App Porting Guide</a>
      </div>
      <div class="social">
        <h3>Connect with us</h3>
        <ul>
          <li id="github"><a href="https://github.com/sandstorm-io/sandstorm">Github</a></li>
          <li id="twitter"><a href="https://twitter.com/SandstormIO">Twitter</a></li>
          <li id="google-plus"><a href="https://google.com/+SandstormIo">Google+</a></li>
          <li id="facebook"><a href="https://facebook.com/sandstorm.io">Facebook</a></li>
        </ul>
      </div>
      <div class="contact">
        <h3>Need to talk to a human?</h3>
        <a href="mailto:support@sandstorm.io">support@sandstorm.io</a>
        <a href="https://groups.google.com/group/sandstorm-dev">Join the discussion group</a>
      </div>
    </section>

    <script type="text/javascript">
      function populate() {
        var hash = document.location.hash;
        if (hash.lastIndexOf("#", 0) === 0) {
          hash = hash.slice(1);
        }

        document.getElementById("confirmation").className = "";

        var parts = hash.split(",");
        for (var i in parts) {
          var assn = parts[i].split("=");

          if (assn.length === 2) {
            if (assn[0] === "confirmed") {
              if (assn[1] === "true") {
                document.getElementById("confirmation").className = "confirmed";
              } else {
                document.getElementById("confirmation").className = "unconfirmed";
              }
            }
            if (assn[0] === "email") {
              document.getElementById("sticker-link").href =
                "https://docs.google.com/a/corp.sandstorm.io/forms/d/" +
                "1EG9lbWwAQkLF4hszlNtdISUp4_wfFSuBxLpXTlFHO38/viewform?entry_1806603704=" +
                encodeURIComponent(decodeURIComponent(assn[1]));
            }
            var elems = document.getElementsByClassName("populate-" + assn[0]);
            for (var j in elems) {
              elems[j].textContent = decodeURIComponent(assn[1]);
            }
          }
        }
      }

      populate();

      window.onhashchange = populate;  // why not?
    </script>

    <!-- Google Analytics -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42127409-1', 'sandstorm.io');
      ga('send', 'pageview');
    </script>
  </body>
</html>
